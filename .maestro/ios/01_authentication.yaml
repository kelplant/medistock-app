# MediStock iOS - Authentication Tests
# Tests: Login, logout, invalid credentials
appId: com.medistock.ios
---

# Test 1: Login with valid credentials
- launchApp:
    clearState: true

- waitForAnimationToEnd

# Verify login screen is displayed
- assertVisible: "MediStock"
- assertVisible: "Login"

# Enter username
- tapOn: "Username"
- inputText: "admin"

# Enter password
- tapOn: "Password"
- inputText: "admin"

# Tap login button
- tapOn:
    text: "Login"
    index: 1

- waitForAnimationToEnd:
    timeout: 10000

# Verify we're on the home screen (MediStock title and menu visible)
- assertVisible: "MediStock"
- assertVisible: "Operations"

# Take screenshot for verification
- takeScreenshot: "ios_login_success"

# Test 2: Logout
# Tap on profile badge
- tapOn:
    text: ".*Profile.*"

- waitForAnimationToEnd

# Tap logout button
- tapOn: "Logout"

- waitForAnimationToEnd

# Verify back on login screen
- assertVisible: "Login"

# Take screenshot
- takeScreenshot: "ios_logout_success"

# Test 3: Invalid credentials
- tapOn: "Username"
- inputText: "wronguser"

- tapOn: "Password"
- inputText: "wrongpassword"

- tapOn:
    text: "Login"
    index: 1

- waitForAnimationToEnd

# Verify error message is shown
- assertVisible:
    text: ".*not found.*"
    optional: true

- takeScreenshot: "ios_login_invalid"
