# MediStock Android - Purchase â†’ Sale Workflow Tests
# Simplified test for basic workflow validation
appId: com.medistock
---

# Setup: Login
- launchApp:
    clearState: true

- waitForAnimationToEnd

- tapOn:
    id: "com.medistock:id/editUsername"
- inputText: "admin"

- tapOn:
    id: "com.medistock:id/editPassword"
- inputText: "admin"

- tapOn:
    id: "com.medistock:id/btnLogin"

- waitForAnimationToEnd:
    timeout: 10000

# Verify home screen
- assertVisible:
    text: ".*MediStock.*"
    optional: true

# ========== STEP 1: Navigate to Administration and create site ==========
- tapOn:
    text: ".*Administration.*"

- waitForAnimationToEnd

- tapOn:
    text: ".*Site Management.*"

- waitForAnimationToEnd

# Add a site
- tapOn:
    id: ".*fab.*"
    optional: true

- waitForAnimationToEnd

- inputText: "Test Site E2E"

- tapOn:
    text: ".*Save.*"
    optional: true

- waitForAnimationToEnd

- takeScreenshot: "android_workflow_site_created"

# Navigate back to home screen
- back
- waitForAnimationToEnd
- back
- waitForAnimationToEnd

# ========== STEP 2: Verify Purchase Products navigation ==========
- tapOn:
    text: ".*Purchase.*"

- waitForAnimationToEnd

- takeScreenshot: "android_workflow_purchase_screen"

# Navigate back to home
- back
- waitForAnimationToEnd

# ========== STEP 3: Verify Sell Products navigation ==========
- tapOn:
    text: ".*Sell.*"

- waitForAnimationToEnd

- takeScreenshot: "android_workflow_sell_screen"

# Navigate back to home
- back
- waitForAnimationToEnd

# ========== STEP 4: Verify Stock navigation ==========
- tapOn:
    text: ".*Stock.*"
    optional: true
- tapOn:
    text: ".*View Stock.*"
    optional: true

- waitForAnimationToEnd

- takeScreenshot: "android_workflow_stock_screen"
